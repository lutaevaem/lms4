<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soft Альянс – Этап 4: Работа с возражениями</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<header class="site-header slim hideable" role="banner">
  <div class="bar">
    <a class="brand" href="index.html" aria-label="На главную">
      <img class="logo" src="logo.jpg" alt="Софт Альянс">
      <span class="brand-title">Софт Альянс</span>
    </a>
    <nav class="icon-nav" aria-label="Основные разделы"><a href="index.html" title="Главная" aria-label="Главная">🏠</a><a href="products.html" title="Продукты и услуги" aria-label="Продукты и услуги">🧩</a><a href="crm.html" title="CRM и инструменты" aria-label="CRM и инструменты">🗂️</a><a href="quickstart.html" title="Быстрый старт" aria-label="Быстрый старт">🚀</a><a href="adaptation.html" title="Адаптация" aria-label="Адаптация">🧭</a><a href="sales.html" title="Продажи" aria-label="Продажи">💼</a><a href="kpi.html" title="KPI" aria-label="KPI">📊</a><a href="tenders.html" title="Тендеры 44‑ФЗ/223‑ФЗ" aria-label="Тендеры 44‑ФЗ/223‑ФЗ">🏛️</a><a href="dashboard-mop.html" title="Дашборд МОП" aria-label="Дашборд МОП">📈</a><a href="dashboard-rop.html" title="Дашборд РОП" aria-label="Дашборд РОП">🧠</a><a href="offer.html" title="Оффер" aria-label="Оффер">🎁</a><a href="offer-self-employed.html" title="Самозанятый (НПД)" aria-label="Самозанятый (НПД)">🧾</a><a href="mentorship.html" title="Наставничество" aria-label="Наставничество">📘</a><a href="privacy.html" title="Политика" aria-label="Политика">⚖️</a><a href="doc-newbie-book.html" title="Книга (оглавление)" aria-label="Книга (оглавление)">📚</a><a href="test.html" title="Тест" aria-label="Тест">✅</a></nav>
  </div>
  <div id="pageSearch" class="page-search" hidden>
    <input type="search" id="pageSearchInput" placeholder="Найти заголовок на странице…">
    <button id="pageSearchClose" class="iconbtn" title="Закрыть поиск"><svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2"/></svg></button>
  </div>
  <div id="sectionsPanel" class="sections-panel" hidden>
    <div class="panel-inner">
      <div class="panel-head">
        <strong>Все разделы</strong>
        <input type="search" id="sectionsSearch" placeholder="Быстрый фильтр по названию…">
        <button id="sectionsClose" class="iconbtn" aria-label="Закрыть"><svg class="ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2"/></svg></button>
      </div>
      \1
<div class="sec-group"><h4>Этапы продаж</h4><div class="sec-links">
<a href="stage-closing.html" title="Soft Альянс – Этап 5: Закрытие сделки">Soft Альянс – Этап 5: Закрытие сделки</a>
<a href="stage-contact.html" title="Soft Альянс – Этап 1: Установление контакта">Soft Альянс – Этап 1: Установление контакта</a>
<a href="stage-needs.html" title="Soft Альянс – Этап 2: Выявление потребностей">Soft Альянс – Этап 2: Выявление потребностей</a>
<a href="stage-objections.html" title="Soft Альянс – Этап 4: Работа с возражениями">Soft Альянс – Этап 4: Работа с возражениями</a>
<a href="stage-presentation.html" title="Soft Альянс – Этап 3: Презентация решения">Soft Альянс – Этап 3: Презентация решения</a>
<a href="stage-support.html" title="Soft Альянс – Этап 6: Послепродажное сопровождение">Soft Альянс – Этап 6: Послепродажное сопровождение</a>
</div></div>
<div class="sec-group"><h4>Библиотека</h4><div class="sec-links">
<a href="doc-bitrix-instruction.html" title="Инструкция по работе со сделками в Bitrix24 — Софт Альянс">Инструкция по работе со сделками в Bitrix24 — Софт Альянс</a>
<a href="doc-it-brands-list.html" title="Список ИТ‑оборудования и брендов — Софт Альянс">Список ИТ‑оборудования и брендов — Софт Альянс</a>
<a href="doc-mop-presentation.html" title="Презентация МОП — расшифровка — Софт Альянс">Презентация МОП — расшифровка — Софт Альянс</a>
<a href="doc-navigator.html" title="Навигатор новичка — Софт Альянс">Навигатор новичка — Софт Альянс</a>
<a href="doc-newbie-book-part1.html" title="Книга новичка — часть 1 из 6 — Софт Альянс">Книга новичка — часть 1 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part2.html" title="Книга новичка — часть 2 из 6 — Софт Альянс">Книга новичка — часть 2 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part3.html" title="Книга новичка — часть 3 из 6 — Софт Альянс">Книга новичка — часть 3 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part4.html" title="Книга новичка — часть 4 из 6 — Софт Альянс">Книга новичка — часть 4 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part5.html" title="Книга новичка — часть 5 из 6 — Софт Альянс">Книга новичка — часть 5 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part6.html" title="Книга новичка — часть 6 из 6 — Софт Альянс">Книга новичка — часть 6 из 6 — Софт Альянс</a>
<a href="doc-newbie-book.html" title="Книга новичка — оглавление — Софт Альянс">Книга новичка — оглавление — Софт Альянс</a>
<a href="doc-sales-script.html" title="Скрипт продаж — Софт Альянс — Софт Альянс">Скрипт продаж — Софт Альянс — Софт Альянс</a>
</div></div>
<div class="sec-group"><h4>Все страницы</h4><div class="sec-links">
<a href="adaptation.html" title="Адаптация — Софт Альянс">Адаптация — Софт Альянс</a>
<a href="crm.html" title="Soft Альянс – CRM и инструменты">Soft Альянс – CRM и инструменты</a>
<a href="dashboard-mop.html" title="Дашборд МОП — Софт Альянс">Дашборд МОП — Софт Альянс</a>
<a href="dashboard-rop.html" title="Дашборд РОП — Софт Альянс">Дашборд РОП — Софт Альянс</a>
<a href="doc-bitrix-instruction.html" title="Инструкция по работе со сделками в Bitrix24 — Софт Альянс">Инструкция по работе со сделками в Bitrix24 — Софт Альянс</a>
<a href="doc-it-brands-list.html" title="Список ИТ‑оборудования и брендов — Софт Альянс">Список ИТ‑оборудования и брендов — Софт Альянс</a>
<a href="doc-mop-presentation.html" title="Презентация МОП — расшифровка — Софт Альянс">Презентация МОП — расшифровка — Софт Альянс</a>
<a href="doc-navigator.html" title="Навигатор новичка — Софт Альянс">Навигатор новичка — Софт Альянс</a>
<a href="doc-newbie-book-part1.html" title="Книга новичка — часть 1 из 6 — Софт Альянс">Книга новичка — часть 1 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part2.html" title="Книга новичка — часть 2 из 6 — Софт Альянс">Книга новичка — часть 2 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part3.html" title="Книга новичка — часть 3 из 6 — Софт Альянс">Книга новичка — часть 3 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part4.html" title="Книга новичка — часть 4 из 6 — Софт Альянс">Книга новичка — часть 4 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part5.html" title="Книга новичка — часть 5 из 6 — Софт Альянс">Книга новичка — часть 5 из 6 — Софт Альянс</a>
<a href="doc-newbie-book-part6.html" title="Книга новичка — часть 6 из 6 — Софт Альянс">Книга новичка — часть 6 из 6 — Софт Альянс</a>
<a href="doc-newbie-book.html" title="Книга новичка — оглавление — Софт Альянс">Книга новичка — оглавление — Софт Альянс</a>
<a href="doc-sales-script.html" title="Скрипт продаж — Софт Альянс — Софт Альянс">Скрипт продаж — Софт Альянс — Софт Альянс</a>
<a href="kpi.html" title="KPI — Софт Альянс">KPI — Софт Альянс</a>
<a href="mentorship.html" title="Наставничество и преемственность — Софт Альянс">Наставничество и преемственность — Софт Альянс</a>
<a href="offer-self-employed.html" title="Как стать самозанятым (НПД) — Софт Альянс">Как стать самозанятым (НПД) — Софт Альянс</a>
<a href="offer.html" title="Оффер — Софт Альянс">Оффер — Софт Альянс</a>
<a href="privacy.html" title="Политика конфиденциальности — Софт Альянс">Политика конфиденциальности — Софт Альянс</a>
<a href="products.html" title="Продукты и услуги — Софт Альянс">Продукты и услуги — Софт Альянс</a>
<a href="quickstart.html" title="Быстрый старт — Софт Альянс">Быстрый старт — Софт Альянс</a>
<a href="sales.html" title="Продажи — Софт Альянс">Продажи — Софт Альянс</a>
<a href="stage-closing.html" title="Soft Альянс – Этап 5: Закрытие сделки">Soft Альянс – Этап 5: Закрытие сделки</a>
<a href="stage-contact.html" title="Soft Альянс – Этап 1: Установление контакта">Soft Альянс – Этап 1: Установление контакта</a>
<a href="stage-needs.html" title="Soft Альянс – Этап 2: Выявление потребностей">Soft Альянс – Этап 2: Выявление потребностей</a>
<a href="stage-objections.html" title="Soft Альянс – Этап 4: Работа с возражениями">Soft Альянс – Этап 4: Работа с возражениями</a>
<a href="stage-presentation.html" title="Soft Альянс – Этап 3: Презентация решения">Soft Альянс – Этап 3: Презентация решения</a>
<a href="stage-support.html" title="Soft Альянс – Этап 6: Послепродажное сопровождение">Soft Альянс – Этап 6: Послепродажное сопровождение</a>
<a href="tenders.html" title="Тендеры 44‑ФЗ и 223‑ФЗ — Софт Альянс">Тендеры 44‑ФЗ и 223‑ФЗ — Софт Альянс</a>
<a href="test.html" title="Soft Альянс – Тест">Soft Альянс – Тест</a>
</div></div>
</div>
      </div>
    </div>
  <button id="sectionsToggle" class="btn ghost" aria-controls="sectionsPanel" aria-expanded="false" title="Все разделы">Разделы</button>
<button id="searchToggle" class="btn ghost" aria-controls="pageSearch" aria-expanded="false" title="Поиск по странице">Поиск</button>
</div>
</header>

  <nav>
    <a href="index.html">Главная</a>
    
    <a href="products.html">Продукты</a>
    <a href="adaptation.html">Адаптация</a>
    <a href="sales.html">Продажи</a>
    <a href="crm.html">CRM</a>
    <a href="kpi.html">Мотивация</a>
    
    <a href="quickstart.html">Быстрый старт</a>
    <a href="test.html">Тест</a>
  </nav>
  <header class="page-header">
    <h1>Этап 4: Работа с возражениями</h1>
  </header>
  <main>
    <img src="stage-objections.png" alt="Возражения" style="width:100%; height:auto; margin-bottom:1rem;">
    <h2>Почему возникают возражения?</h2>
    <p>Возражения – это естественная часть процесса продаж. Они могут сигнализировать о недостатке информации, страхе изменений или желании клиента получить лучшее условие. Ваша задача – понять истинную причину и помочь клиенту принять решение.</p>
    <h2>Типы возражений</h2>
    <ul>
      <li><strong>Цена.</strong> «Это слишком дорого»; «Мы не заложили такой бюджет». Причины: ограниченный бюджет, непонимание выгоды, поиск скидок.</li>
      <li><strong>Нужда.</strong> «Нам это не нужно»; «Мы справляемся по‑старому». Причины: отсутствие осознания проблемы, сопротивление изменениям.</li>
      <li><strong>Время.</strong> «Сейчас неподходящее время»; «Мы вернёмся к этому позже». Причины: загруженность, другие приоритеты, бюрократия.</li>
      <li><strong>Доверие.</strong> «Мы уже работаем с другим поставщиком»; «Нам нужны гарантии». Причины: неуверенность в вас, плохой опыт в прошлом.</li>
      <li><strong>Полномочия.</strong> «Мне надо согласовать»; «Я не принимаю решения». Причины: ЛПР отсутствует, нет полномочий принять решение.</li>
    </ul>
    <h2>Модель LAER</h2>
    <p>Один из эффективных подходов – модель LAER (Listen, Acknowledge, Explore, Respond):</p>
    <ol>
      <li><strong>Listen (слушайте).</strong> Не перебивайте клиента, внимательно выслушайте возражение.</li>
      <li><strong>Acknowledge (признайте).</strong> Показать понимание и уважение: «Я понимаю, что для вас важен бюджет».</li>
      <li><strong>Explore (изучайте).</strong> Задавайте уточняющие вопросы, чтобы понять суть: «Скажите, пожалуйста, какие именно затраты вас беспокоят?»</li>
      <li><strong>Respond (ответьте).</strong> Дайте аргументированный ответ: предложите другие условия, расчёт выгоды, отстройку от конкурентов или альтернативный продукт.</li>
    </ol>
    <h2>Техника «Да, но»</h2>
    <p>При этой технике вы соглашаетесь с эмоцией клиента, но предлагаете другое видение: «Да, это дороже, чем аналог, но наш продукт включает техническую поддержку 24/7 и бесплатные обновления, что в итоге экономит средства».</p>
    <h2>Как работать с разными возражениями</h2>
    <h3>Цена</h3>
    <ul>
      <li>Покажите расчёт экономии: сколько часов/денег сэкономит решение за год.</li>
      <li>Предложите варианты: помесячная оплата, рассрочка, пакет с меньшим функционалом.</li>
      <li>Сравните с конкурентами: объясните, какие услуги включены в вашу цену.</li>
    </ul>
    <h3>Нужда</h3>
    <ul>
      <li>Напомните о проблемах, которые клиент озвучил на втором этапе.</li>
      <li>Расскажите о рисках отказа от решения (штрафы, потеря клиентов, простои).</li>
      <li>Покажите примеры компаний, которые улучшили показатели благодаря вашему продукту.</li>
    </ul>
    <h3>Время</h3>
    <ul>
      <li>Уточните, когда будет удобно вернуться к обсуждению. Занесите дату в CRM.</li>
      <li>Предложите подготовить материалы заранее, чтобы ускорить процесс.</li>
      <li>Проверьте, нет ли возможности запустить пилотный проект прямо сейчас, чтобы клиент увидел результат.</li>
    </ul>
    <h3>Доверие</h3>
    <ul>
      <li>Предоставьте отзывы, кейсы и рекомендации от клиентов из той же отрасли.</li>
      <li>Пригласите на демонстрацию или мероприятие, чтобы познакомиться с командой.</li>
      <li>Гарантируйте сервис и поддержку: расскажите о SLA, обучении и сопровождении.</li>
    </ul>
    <h3>Полномочия</h3>
    <ul>
      <li>Попросите организовать встречу со всеми участниками принятия решения.</li>
      <li>Предоставьте материалы, чтобы ваш собеседник мог передать информацию руководству.</li>
      <li>Уточните процедуру согласования и помогите пройти её (например, подготовить обоснование).</li>
    </ul>
    <h2>Ошибки при работе с возражениями</h2>
    <ul>
      <li><strong>Спор.</strong> Спор с клиентом приводит к конфронтации. Вместо этого ищите компромисс и предлагайте варианты.</li>
      <li><strong>«Нет» на возражения.</strong> Не стоит сразу отрицать: «Это не так». Сначала согласитесь с эмоцией («Понимаю»), затем аргументируйте.</li>
      <li><strong>Отсутствие слушания.</strong> Если вы не выслушиваете до конца, можете не понять истинную причину.</li>
    </ul>
    <h2>Чек‑лист по работе с возражениями</h2>
    <ol>
      <li>Выслушать клиента без перебивания.</li>
      <li>Согласиться с чувствами и показать понимание.</li>
      <li>Выяснить корневую причину с помощью уточняющих вопросов.</li>
      <li>Ответить, предложив выгоду, альтернативу или решение.</li>
      <li>Перейти к следующему шагу: отправить расчёт, назначить встречу, оформить договор.</li>
    </ol>

    <h2>Дополнительные техники</h2>
    <p>Помимо модели LAER и фразы «Да, но» существуют и другие подходы, помогающие смягчить возражения и повернуть разговор в конструктивное русло:</p>
    <ul>
      <li><strong>Feel–Felt–Found (Чувство–Опыт–Решение).</strong> Техника, которая показывает клиенту, что он не одинок: «Понимаю ваше чувство (feel). Другие наши клиенты тоже считали, что внедрение новой системы займёт слишком много времени (felt). Но после настройки они обнаружили (found), что сэкономили вдвое больше времени уже через месяц».</li>
      <li><strong>Сэндвич (Плюс–Минус–Плюс).</strong> Начните ответ с позитивной стороны, затем обговорите проблему и завершите ещё одним преимуществом: «Действительно, первоначальные затраты на лицензию выше (минус), но в пакете вы получаете бесплатные обновления и техническую поддержку (плюс), что снижает совокупную стоимость владения».</li>
      <li><strong>Метод трёх «Да».</strong> Постарайтесь получить от клиента несколько согласий подряд («Да, вам важно сократить сроки», «Да, вы хотите надёжную поддержку»), после чего переходите к вашему предложению. Это помогает настроить клиента на позитивный ответ.</li>
      <li><strong>Переадресация.</strong> Если возражение звучит от человека, который не принимает решение, узнайте, кто принимает: «Я понимаю, что для точной оценки нужен финансовый директор. Давайте вместе с ним обсудим, как наша система поможет сэкономить».</li>
    </ul>

    <h2>Сбор и анализ возражений</h2>
    <p>Возражения – источник ценной информации. Записывайте каждое возражение в CRM с привязкой к клиенту и стадии сделки. Регулярно анализируйте повторяющиеся возражения: возможно, нужно скорректировать предложение, улучшить презентационные материалы или изменить цены. В команде продаж полезно проводить «разбор полётов», где менеджеры делятся сложными ситуациями и ищут оптимальные ответы. Вы можете создать базу знаний с типовыми возражениями и вариантами ответа – это поможет новым сотрудникам быстрее включаться в работу.</p>

    <h2>Переговоры по цене и условиям</h2>
    <p>В B2B‑продажах возражения часто связаны с ценой. Чтобы не снижать стоимость без необходимости, подготовьтесь к переговорам заранее:</p>
    <ul>
      <li><strong>Определите диапазон цены.</strong> Заранее составьте минимальный уровень скидки, с которым вы готовы работать. Выше определённого порога необходимо согласование с руководителем.</li>
      <li><strong>Узнайте требования клиента.</strong> Спросите, какие параметры для него важны: цена, сроки поставки, условия оплаты. Так вы поймёте, что можно улучшить без потери маржи.</li>
      <li><strong>Предлагайте ценность вместо скидки.</strong> Иногда клиент готов заплатить полную цену, если получает дополнительные услуги: обучение, расширенную поддержку, подключение дополнительных модулей.</li>
      <li><strong>Используйте «обмен».</strong> В переговорах принято давать что‑то в обмен: «Мы можем предоставить скидку 5 %, если вы оплатите поставку полностью до конца месяца».</li>
      <li><strong>Фиксируйте договорённости.</strong> Сразу после переговоров отправляйте документ с согласованными условиями: это помогает избежать недопонимания.</li>
    </ul>

    <h2>Преодоление тупиковой ситуации</h2>
    <p>Иногда переговоры заходят в тупик: клиент повторяет те же возражения или не может принять решение. В таких ситуациях:</p>
    <ul>
      <li><strong>Проведите переформулировку.</strong> Напомните клиенту, что будет, если проблема останется нерешённой. Например: «Позвольте уточнить: если отчётность будет продолжать задерживаться, чем это грозит вашей компании?».</li>
      <li><strong>Смена перспективы.</strong> Попросите клиента взглянуть на проблему с другой стороны: «А как ваши конкуренты решают этот вопрос?».</li>
      <li><strong>Привлечение третьей стороны.</strong> Если решение завязло из‑за отсутствия полномочий, пригласите финдиректора или директора для совместного обсуждения.</li>
      <li><strong>Сдайте ход.</strong> Иногда стоит временно отступить: «Я понимаю, что сейчас не время. Давайте вернёмся к вопросу через месяц, когда завершите проект. Я подготовлю полный пакет документов».</li>
    </ul>

    <h2>Психологические аспекты</h2>
    <p>Работа с возражениями требует устойчивости и эмпатии. Сдерживайте эмоции и будьте настроены на сотрудничество:</p>
    <ul>
      <li><strong>Не воспринимайте возражения лично.</strong> Клиент не критикует вас – он выражает страхи, сомнения или неясные моменты. Сохраняйте профессионализм.</li>
      <li><strong>Используйте паузы.</strong> Иногда лучше помолчать пару секунд, чем ответить резко. Пауза даёт время обдумать аргументы и показывает, что вы серьёзно относитесь к словам собеседника.</li>
      <li><strong>Улыбайтесь и сочувствуйте.</strong> Улыбка в голосе и позитивный тон помогают снизить напряжение. Покажите, что вы понимаете переживания клиента.</li>
      <li><strong>Записывайте ключевые фразы.</strong> Это помогает в дальнейшем проанализировать собственную реакцию и подготовить более сильные аргументы.</li>
    </ul>

    <h2>Практическое задание</h2>
    <p>Чтобы отработать навыки, выполните следующее:</p>
    <ul>
      <li>Составьте список минимум пяти возражений, которые вы слышите чаще всего. Пропишите варианты ответов с использованием моделей LAER, Feel–Felt–Found и «Да, но».</li>
      <li>Придумайте два примера «обмена» в переговорах по цене для одного из продуктов. Отрепетируйте их вслух с коллегой.</li>
      <li>Проведите симуляцию «тупиковой» сделки: один человек играет клиента, второй – менеджера. Попробуйте вывести диалог в конструктивную плоскость.</li>
      <li>Запишите реальный разговор с клиентом (при его согласии) и разберите, какие возражения были, как вы ответили, что можно улучшить.</li>
    </ul>
    <p>Регулярно возвращайтесь к этим упражнениям. Чем больше практики, тем легче вам будет реагировать на нестандартные ситуации и закрывать сделки.</p>
  </main>
  <footer>
    <p>&copy; 2025 Soft Альянс. Все права защищены.</p>
  </footer>

<script>
(function(){
  // Hide-on-scroll header
  var hdr=document.querySelector('.site-header.slim.hideable'); var lastY=window.scrollY||0, th=180;
  function onScr(){ var y=window.scrollY||0; if(!hdr) return;
    if(y<180){ hdr.classList.remove('hide'); lastY=y; return; }
    if(y>lastY+th){ hdr.classList.add('hide'); lastY=y; return; }
    if(y+th<lastY){ hdr.classList.remove('hide'); lastY=y; } }
  window.addEventListener('scroll', onScr, {passive:true});

  // Sections panel
  var panel=document.getElementById('sectionsPanel'), btn=document.getElementById('sectionsToggle');
  var close=document.getElementById('sectionsClose'), filter=document.getElementById('sectionsSearch');
  function open(){ panel && panel.removeAttribute('hidden'); btn && btn.setAttribute('aria-expanded','true'); }
  function shut(){ panel && panel.setAttribute('hidden',''); btn && btn.setAttribute('aria-expanded','false'); }
  btn && btn.addEventListener('click', ()=> panel.hasAttribute('hidden') ? open() : shut());
  close && close.addEventListener('click', shut);
  panel && panel.addEventListener('click', e=>{ if(e.target===panel) shut(); });
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') shut(); });
  filter && filter.addEventListener('input', function(){
    var q=this.value.trim().toLowerCase();
    document.querySelectorAll('#sectionsList .sec-links a').forEach(a=> a.style.display = a.textContent.toLowerCase().includes(q)?'':'');
  });

  // In-page search
  var sb=document.getElementById('pageSearch'), si=document.getElementById('pageSearchInput');
  var st=document.getElementById('searchToggle'), sc=document.getElementById('pageSearchClose');
  function openS(){ sb && sb.removeAttribute('hidden'); si && (si.value='', si.focus()); }
  function shutS(){ sb && sb.setAttribute('hidden',''); }
  st && st.addEventListener('click', openS); sc && sc.addEventListener('click', shutS);
  si && si.addEventListener('input', function(){
    var q=this.value.trim().toLowerCase(); var links=document.querySelectorAll('.toc a'); let first=null;
    links.forEach(a=>{ var ok=a.textContent.toLowerCase().includes(q); a.parentElement.style.display=ok?'':'none'; if(ok&&!first) first=a; });
    if(q && first){ first.scrollIntoView({block:'nearest'}); }
  });
})();
</script>


<script>
// Active icon link in header
(function(){
  try{
    var file = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
    document.querySelectorAll('.icon-nav a[href]').forEach(function(a){
      var href = (a.getAttribute('href')||'').toLowerCase();
      if(href === file){ a.classList.add('active'); }
    });
  }catch(e){}
})();
</script>


<script>
// Toggle panels for search and sections (idempotent)
(function(){
  function bindToggle(btnId, panelId){
    var btn = document.getElementById(btnId);
    var panel = document.getElementById(panelId);
    if(!btn || !panel) return;
    if(btn.dataset._bound) return; btn.dataset._bound = "1";
    btn.addEventListener('click', function(){
      var open = panel.classList.toggle('open');
      btn.setAttribute('aria-expanded', open ? 'true':'false');
    });
  }
  bindToggle('sectionsToggle','sectionsPanel');
  bindToggle('searchToggle','pageSearch');
})();
</script>


<script>
(function(){
  function togglePanel(btnId, panelId){
    var btn = document.getElementById(btnId);
    var p = document.getElementById(panelId);
    if(!btn || !p) return;
    function open(){ p.classList.add('open'); p.removeAttribute('hidden'); btn.setAttribute('aria-expanded','true'); }
    function close(){ p.classList.remove('open'); p.setAttribute('hidden',''); btn.setAttribute('aria-expanded','false'); }
    btn.addEventListener('click', function(e){ e.preventDefault(); (p.hasAttribute('hidden') ? open() : close()); });
    document.addEventListener('keydown', function(e){ if(e.key==='Escape'){ close(); }});
    // Close when clicking outside
    document.addEventListener('click', function(e){
      if(!p.contains(e.target) && e.target.id !== btnId && !btn.contains(e.target)){ close(); }
    });
  }
  togglePanel('sectionsToggle','sectionsPanel');
  togglePanel('searchToggle','pageSearch');
})();
</script>

</body>
</html>